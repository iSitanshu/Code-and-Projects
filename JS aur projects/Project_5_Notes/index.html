<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keep Notes</title>
    <style>
        *{
            padding: 0;
            margin: 0;
            background-color: rgb(248, 103, 248);
        }
        .main{
            padding: 100px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .box_1_head{
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 10px;
        }
        #but{
            padding: 10px;
            display: flex;
            flex-direction: row;
            border-radius: 10px;
            border: none;
            background-color: purple;
            min-width: 20%;
        }
        #but h1{
            background-color: purple;
        }
        .input-box{
            background: white;
            height: 100px;
            margin-top: 10px;
        }
        .input-box img{
            align-items: right;
            margin: 0 0 0 95%;
        }
    </style>
</head>
<body>
    <div class="main">
        <div class="box_1_head">
            <img src="images/Notes_icon.png" alt="" height="50vh">
            <h1 style="color: white;">Notes</h1>
        </div>
        <button id="but" onclick="createNote()">
            <img src="images/pen.jpeg" alt="" height="30px">
            <h1>Create Notes</h1>
        </button>
        <div id="extra">
            <!-- <p contenteditable="true" class="input-box">
                <img src="/Project_5_Notes/images/delete.png" alt="" height="40vh">
            </p> -->
        </div>
    </div>
</body>
<script>
    const button = document.getElementById("but")
    const extra = document.getElementById("extra")

    function showNotes(){
        extra.innerHTML = localStorage.getItem("notes")
    }
    showNotes()
    function updateStorage(){
        localStorage.setItem("notes",extra.innerHTML)
    }

    function createNote(){
        let inputbox = document.createElement("div")
        let img = document.createElement("img")
        inputbox.className="input-box"
        inputbox.setAttribute("contenteditable","true")
        img.src = "/Project_5_Notes/images/delete.png"
        img.height=30;
        extra.appendChild(inputbox).appendChild(img)
        updateStorage()
    }
    extra.addEventListener("click",function(e){
        if(e.target.tagName === "IMG"){
            e.target.parentElement.remove()
            updateStorage()
        }
        else if(e.target.tagName === "P"){
            notes = document.querySelectorAll("input-box")
            notes.forEach(nt => {
                nt.onkeyup =function(){
                    updateStorage()
                }
            });
        }
    })
    extra.addEventListener("keyup", function(e) {
        if (e.target.classList.contains("input-box")) {
            updateStorage();
        }
    });

</script>
</html>